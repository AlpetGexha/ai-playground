# Documentation: UserFactory.php

Original file: `database/factories\UserFactory.php`

# UserFactory Documentation

## Table of Contents
- [Introduction](#introduction)
- [Properties](#properties)
- [Methods](#methods)
  - [definition](#definition)
  - [unverified](#unverified)

## Introduction

The `UserFactory.php` file is located in the `database/factories` directory of a Laravel application. This file defines the `UserFactory` class, which is responsible for generating fake user data for testing and seeding purposes. Factories are a vital part of the Laravel ecosystem, allowing developers to create models quickly with default data that can be customized as needed.

The `UserFactory` allows for the creation of `User` model instances with relevant attributes such as `name`, `email`, and `password`, streamlining the development process by populating the database with realistic sample data.

## Properties

| Property         | Description                                               |
|------------------|-----------------------------------------------------------|
| `$password`      | A static property that stores the password being used by the factory. It is initialized with a hashed value of the string 'password' if not already set. |

## Methods

### definition

```php
public function definition(): array
```

#### Purpose
The `definition` method defines the default state of the `User` model. It generates an array of attributes with fake data that represents a `User`.

#### Parameters
- None

#### Return Values
- **Returns**: `array<string, mixed>` - An associative array containing default values for the `User` attributes.

#### Functionality
The `definition` method utilizes the Faker library to generate the following attributes for a user:

- `name`: A random name generated by the Faker library.
- `email`: A unique, safe email generated by the Faker library, ensuring no duplicates in the database.
- `email_verified_at`: The current date and time, representing that the email is verified.
- `password`: Uses a password that is either statically set once (via hashing) or uses the default password. This is achieved through a static property that prevents the password from being rehashed on subsequent calls.
- `remember_token`: A random token generated using the `Str::random` method to facilitate "remember me" functionality.

### unverified

```php
public function unverified(): static
```

#### Purpose
The `unverified` method defines a state for the `User` model in which the email address is not verified. This is useful for specifying that a user account has been created but the email verification process has not been completed.

#### Parameters
- None

#### Return Values
- **Returns**: `static` - Returns the updated instance of the factory for method chaining.

#### Functionality
The `unverified` method uses the `state` method to modify the factory's default state, setting the `email_verified_at` attribute to `null`. This indicates that the email verification timestamp is absent, thereby marking the email as unverified.

### Usage Example
A developer can use the `UserFactory` within a seeder or a test case as follows:

```php
use Database\Factories\UserFactory;

// Create a verified user
$user = UserFactory::new()->create();

// Create an unverified user
$unverifiedUser = UserFactory::new()->unverified()->create();
```

In the examples above, two different users can be created easily with the desired verification state. This highlights the flexibility of the factory to cater to varying requirements during testing and development.

## Conclusion

The `UserFactory` class is an essential part of the Laravel framework's functionality, allowing for easy data generation which is crucial for testing and seeding. By utilizing methods such as `definition` and `unverified`, developers can create robust and realistic user data quickly and efficiently. This enhances the testing process and ensures that applications are well-prepared for production usage.